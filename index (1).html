<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laborat√≥rio Virtual de Qu√≠mica ‚öóÔ∏è</title>
    <style>
        /* Estilos Gerais */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f4f8;
            color: #2c3e50;
        }
        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .container {
            width: 95%;
            max-width: 1400px; 
            margin: 30px auto;
            display: flex;
            gap: 20px;
        }
        h2 {
            color: #2980b9;
            border-bottom: 2px solid #bdc3c7;
            padding-bottom: 5px;
            margin-top: 0;
        }

        /* --- ANIMA√á√ÉO DE FUS√ÉO --- */
        @keyframes fusao-quimica {
            0% { opacity: 1; transform: translate(-50%, -50%) rotate(0deg) scale(1); }
            50% { opacity: 1; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(180deg) scale(1.1); }
            100% { opacity: 0; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(360deg) scale(0); }
        }
        
        /* --- ANIMA√á√ÉO DO PRODUTO: Aparece no centro --- */
        @keyframes produto-aparece {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            70% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
            100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }

        /* Layout */
        .left-column, .right-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .lab-area { 
            flex: 1; 
            background: white; 
            padding: 20px; 
            border-radius: 10px; 
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1); 
        }
        .lab-area-center {
            flex: 1; /* Coluna do meio para a Jarra */
        }


        /* Jarra Erlenmeyer - FORMATO C√îNICO (Conforme a imagem) */
        #jarra {
            width: 200px; 
            height: 300px; 
            margin: 20px auto; 
            background-color: #e6f7ff; 
            position: relative; 
            overflow: hidden; 
            border: 3px solid #3498db; 
            border-radius: 5px; 
            box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
            text-align: center; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            color: #555; 
            font-size: 1.1em; 
            font-style: italic;
            
            /* Forma do Erlenmeyer C√¥nico - Base Larga, Gargalo Estreito */
            clip-path: polygon(
                35% 0%, 65% 0%, 
                65% 10%, 95% 100%, 
                5% 100%, 35% 10%
            );
            /* Removida a transi√ß√£o do gargalo (75% 15%, 25% 15%) para um visual mais simples/c√¥nico */
        }
        
        /* Gargalo Superior */
        #jarra::before {
            content: '';
            position: absolute;
            top: 0;
            left: 35%;
            right: 35%;
            height: 10%; 
            background-color: #e6f7ff;
            border-left: 3px solid #3498db;
            border-right: 3px solid #3498db;
            border-top: 3px solid #3498db;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
            box-sizing: border-box;
            z-index: 10; 
        }
        
        /* Rolha (Como na imagem) */
        #jarra::after { 
            content: '';
            position: absolute;
            top: -15px; /* Posi√ß√£o acima da boca */
            left: 50%;
            transform: translateX(-50%);
            width: 50%; 
            height: 15px; 
            background-color: #ffd79b; /* Cor de corti√ßa */
            border: 2px solid #b38640;
            border-radius: 5px;
            z-index: 12; /* Z-index mais alto que a boca */
            box-shadow: 0 4px 5px rgba(0,0,0,0.2);
        }

        .element-in-jarra {
            position: absolute; display: flex; align-items: center; justify-content: center; color: white;
            width: 45px; height: 45px; border-radius: 50%; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            font-size: 1.1em; cursor: default; z-index: 3; 
            box-sizing: border-box; 
            transform: translate(-50%, -50%); 
            transition: all 0.5s ease-out;
        }
        .reagente-animado { animation: fusao-quimica 1s forwards ease-in-out; }
        
        .produto-final {
            position: absolute; top: 50%; left: 50%; padding: 15px; background-color: #f7dc6f;
            border: 3px solid #e67e22; border-radius: 10px; font-weight: bold; font-size: 1.2em;
            opacity: 0; transform: translate(-50%, -50%); animation: produto-aparece 0.5s 1.2s forwards;
            z-index: 4; cursor: grab; box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        /* --- CORES DOS ELEMENTOS NA JARRA (Mantidas) --- */
        .H { background-color: #e74c3c; } .O { background-color: #3498db; } .Na { background-color: #f1c40f; color: #333; } .Cl { background-color: #27ae60; } .Mg { background-color: #85c1e9; color: #333; } .Al { background-color: #7f8c8d; } .S { background-color: #f39c12; color: #333; } .C { background-color: #1abc9c; } .He, .Ne, .Ar { background-color: #9b59b6; } .Li { background-color: #ff6f61; color: white; } .Be { background-color: #add8e6; color: #333; } .N { background-color: #9acd32; color: white; } .F { background-color: #ffd700; color: #333; } .K { background-color: #8a2be2; color: white; } .Br { background-color: #a52a2a; color: white; } .Ca { background-color: #ffe066; color: #333; } .Fe { background-color: #b74f6f; color: white; } .Cu { background-color: #c98e3b; color: white; } .P { background-color: #795548; color: white; } .I { background-color: #4b0082; color: white; }

        /* Estilos de layout e bot√µes */
        #resultado { margin-top: 20px; padding: 15px; background-color: #ecf0f1; border-radius: 5px; min-height: 50px; }
        .produto-visual { margin-top: 10px; padding: 15px; border: 2px solid #2980b9; border-radius: 8px; background-color: #ffffff; font-size: 1.2em; font-weight: bold; text-align: center; }
        #elemento-info { background-color: #f9f9f9; border: 1px dashed #2980b9; padding: 10px; margin-top: 20px; border-radius: 5px; }
        .botoes { margin-top: 15px; display: flex; gap: 10px; }
        .botoes button { background-color: #2980b9; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 1em; transition: background-color 0.3s ease; }
        .botoes button:hover { background-color: #3498db; }
        .aparencia-produto { font-style: italic; font-weight: bold; color: #e67e22; margin-top: 5px; display: block; }

        /* --- Estilos da Tabela Peri√≥dica (Cores V5) --- */
        .periodic-table-container { max-width: 500px; }
        .periodic-table { display: grid; grid-template-columns: repeat(18, 1fr); gap: 3px; background-color: #bdc3c7; padding: 5px; border-radius: 8px; }
        .element { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 50px; cursor: pointer; transition: background-color 0.1s, transform 0.1s; user-select: none; font-size: 0.7em; font-weight: bold; border-radius: 3px; border: 1px solid rgba(0, 0, 0, 0.2); color: #2c3e50; box-sizing: border-box; }
        .element:hover { opacity: 0.9; transform: scale(1.05); box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); }
        .element:empty { background-color: transparent !important; cursor: default; border: none; }
        .symbol { font-size: 1.4em; }

        .non-metal { background-color: #a8dadc; } 
        .alkali-metal { background-color: #ffb703; color: white; } 
        .alkaline-earth { background-color: #ffc300; } 
        .metal { background-color: #2a9d8f; color: white; } 
        .transition-metal { background-color: #3a86ff; color: white; } 
        .halogen { background-color: #e63946; color: white; } 
        .noble-gas { background-color: #457b9d; color: white; } 
        .other-non-metal { background-color: #4cc9f0; }

        /* --- Estilos da √Årea da Planta (Incubadora e Girassol Realista - V5) --- */
        .plant-area {
            background: linear-gradient(145deg, #eceff1, #cfd8dc); 
            border: 3px solid #b0bec5; 
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2), inset 0 0 15px rgba(255, 255, 255, 0.7); 
            text-align: center;
            position: relative; 
            overflow: hidden; 
            padding-top: 50px; 
        }

        /* Luz de Crescimento (Grow Light) */
        .plant-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 40px;
            background: radial-gradient(circle at center, rgba(173, 216, 230, 0.8) 0%, rgba(173, 216, 230, 0) 70%); 
            border-bottom-left-radius: 50%;
            border-bottom-right-radius: 50%;
            box-shadow: 0 0 25px rgba(173, 216, 230, 0.9);
            z-index: 1;
        }

        #plant-container {
            width: 280px; 
            height: 350px; 
            margin: 0px auto 30px auto; 
            border: none;
            border-radius: 10px;
            display: flex; flex-direction: column; align-items: center; justify-content: flex-end; 
            position: relative; 
            background-color: #f0f0f0; 
            overflow: hidden; 
            transition: background-color 0.3s ease;
        }
        
        #plant-container.drag-over { background-color: #d8f5d8; border-color: #28a745; }

        /* Estilo da Terra/Vaso */
        #plant-container::after { 
            content: ''; 
            position: absolute; 
            bottom: 0; 
            width: 100%; 
            height: 100px; 
            background: linear-gradient(to bottom, #a0522d, #8b4513); 
            border-radius: 0 0 8px 8px; 
            z-index: 0;
        }

        /* Estilo da Planta (Girassol) */
        .plant {
            position: absolute; 
            bottom: 90px; 
            width: 100px; 
            height: 250px; 
            transition: all 0.5s ease-in-out; 
            z-index: 1; 
            transform-origin: bottom center; 
            transform: scaleY(0.7); 
        }

        .plant .stem { 
            width: 12px; 
            height: 70%;
            background: linear-gradient(to right, #228b22, #3cb371); 
            margin: 0 auto;
            border-radius: 5px;
            position: relative;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.3); 
        }
        .plant .leaf { 
            width: 60px; 
            height: 30px;
            background: linear-gradient(to right, #3cb371, #2e8b57); 
            border-radius: 50% / 80% 80% 20% 20%; 
            position: absolute;
            top: 40%; 
            left: 50%;
            transform: translateX(-50%) rotate(-45deg);
            transform-origin: left center;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2); 
            transition: all 0.5s ease;
        }
        .plant .leaf:nth-child(2) {
            top: 60%;
            transform: translateX(-50%) rotate(45deg);
            transform-origin: right center;
        }

        /* Cabe√ßa do Girassol Realista */
        .sunflower-head {
            position: absolute;
            top: 0; 
            left: 50%;
            transform: translateX(-50%);
            width: 80px; 
            height: 80px;
            border-radius: 50%;
            background: radial-gradient(circle at center, #8B4513 0%, #6F4F28 70%, #5F3F1F 100%); 
            border: 5px solid #f1c40f; 
            box-shadow: 0 0 15px rgba(241, 196, 15, 0.8), inset 0 0 10px rgba(0,0,0,0.3); 
            transition: all 0.5s ease-in-out;
            z-index: 5; 
        }
        .sunflower-head::before { 
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 100%; height: 100%;
            border-radius: 50%;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.5);
            z-index: 6; 
        }
        
        /* P√©talas do Girassol - POSICIONAMENTO CORRIGIDO */
        .sunflower-head .petal { 
            position: absolute;
            background-color: #f1c40f; 
            width: 25px;
            height: 55px;
            border-radius: 50% 50% 10% 10%;
            
            /* Posi√ß√£o inicial: centro da cabe√ßa */
            top: 50%; 
            left: 50%;
            
            /* Rota√ß√£o e Transla√ß√£o: gira no √¢ngulo e move-se para fora a partir da base (100%) */
            transform: translate(-50%, -50%) rotate(var(--rotation-angle)) translateY(-40px);
            
            /* Define o ponto de rota√ß√£o na base inferior da p√©tala (onde ela se conecta ao centro) */
            transform-origin: 50% 100%; 
            
            box-shadow: 1px 1px 3px rgba(0,0,0,0.2); 
            z-index: 1; 
            background: linear-gradient(to top, #ffeb3b, #fbc02d); 
        }

        /* Rota√ß√£o das p√©talas */
        .sunflower-head .petal:nth-child(1) { --rotation-angle: 0deg; }
        .sunflower-head .petal:nth-child(2) { --rotation-angle: 30deg; }
        .sunflower-head .petal:nth-child(3) { --rotation-angle: 60deg; }
        .sunflower-head .petal:nth-child(4) { --rotation-angle: 90deg; }
        .sunflower-head .petal:nth-child(5) { --rotation-angle: 120deg; }
        .sunflower-head .petal:nth-child(6) { --rotation-angle: 150deg; }
        .sunflower-head .petal:nth-child(7) { --rotation-angle: 180deg; }
        .sunflower-head .petal:nth-child(8) { --rotation-angle: 210deg; }
        .sunflower-head .petal:nth-child(9) { --rotation-angle: 240deg; }
        .sunflower-head .petal:nth-child(10) { --rotation-angle: 270deg; }
        .sunflower-head .petal:nth-child(11) { --rotation-angle: 300deg; }
        .sunflower-head .petal:nth-child(12) { --rotation-angle: 330deg; }


        /* --- ANIMA√á√ïES DA PLANTA --- */
        .plant-state-normal { transform: scaleY(1); filter: grayscale(0%); }
        @keyframes grow-glow { 0% { filter: brightness(1); transform: scaleY(1); } 50% { filter: brightness(1.2) hue-rotate(-10deg); transform: scaleY(1.3); } 100% { filter: brightness(1); transform: scaleY(1); } }
        .plant-state-crescida { animation: grow-glow 1s ease-out forwards; }
        .plant-state-murcha { transform: scaleY(0.5) rotateZ(-10deg); filter: grayscale(80%) brightness(0.7); opacity: 0.7; }
        @keyframes poison-pulse { 0% { transform: scaleY(0.7) rotateZ(-10deg); filter: saturate(0%) brightness(0.5) sepia(100%) hue-rotate(30deg); } 100% { transform: scaleY(0.65) rotateZ(-12deg); filter: saturate(0%) brightness(0.4) sepia(100%) hue-rotate(40deg); } }
        .plant-state-envenenada { animation: poison-pulse 1s infinite alternate; }
        @keyframes exotic-bloom { 0% { transform: scaleY(1.2) rotateZ(5deg); filter: hue-rotate(180deg) saturate(1.5); } 100% { transform: scaleY(1.25) rotateZ(-5deg); filter: hue-rotate(200deg) saturate(1.8); } }
        @keyframes heliotropismo-move { 0% { transform: rotateZ(-5deg); } 100% { transform: rotateZ(5deg); } }
        .plant-state-exotica { animation: exotic-bloom 1.5s infinite alternate; }
        .plant-state-heliotropismo .sunflower-head, .plant-state-heliotropismo .petal { animation: heliotropismo-move 3s infinite alternate ease-in-out; }
        .plant-state-enferrujada { transform: scaleY(0.8); filter: grayscale(50%) sepia(100%) hue-rotate(10deg); }

        /* --- Tabela de Combina√ß√µes --- */
        .combination-table {
            background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            margin-top: 0px; 
        }
        .combination-table table {
            width: 100%; border-collapse: collapse; margin-top: 15px;
        }
        .combination-table th, .combination-table td {
            border: 1px solid #ccc; padding: 7px 10px; 
            text-align: left;
            font-size: 0.9em;
        }
        .combination-table th {
            background-color: #e6f7ff; color: #2980b9; font-weight: bold;
        }
    </style>
</head>
<body>

    <header>
        <h1>Laborat√≥rio Virtual de Qu√≠mica ‚öóÔ∏è</h1>
        <p>Clique em um elemento para adicionar √† Jarra e liberar suas informa√ß√µes!</p>
    </header>

    <div class="container">
        
        <div class="left-column">
            
            <div class="periodic-table-container lab-area">
                <h2>Tabela Peri√≥dica</h2>
                <div class="periodic-table" id="periodicTable">
                    
                    <div class="element non-metal" onclick="adicionarElemento('H', 'Hidrog√™nio', 'G√°s, altamente reativo. O elemento mais leve do universo.', 1)">1<span class="symbol">H</span></div>
                    <div class="element" style="grid-column: span 16;"></div>
                    <div class="element noble-gas" onclick="adicionarElemento('He', 'H√©lio', 'G√°s inerte e nobre. Usado em bal√µes por ser leve e seguro.', 2)">2<span class="symbol">He</span></div>
                    
                    <div class="element alkali-metal" onclick="adicionarElemento('Li', 'L√≠tio', 'Metal alcalino, o metal mais leve. Usado em baterias recarreg√°veis.', 3)">3<span class="symbol">Li</span></div>
                    <div class="element alkaline-earth" onclick="adicionarElemento('Be', 'Ber√≠lio', 'Metal alcalino-terroso. Leve e resistente, usado em ligas met√°licas.', 4)">4<span class="symbol">Be</span></div>
                    <div class="element" style="grid-column: span 9;"></div>
                    <div class="element other-non-metal" onclick="adicionarElemento('N', 'Nitrog√™nio', 'G√°s incolor e inodoro, principal componente do ar.', 7)">7<span class="symbol">N</span></div>
                    <div class="element non-metal" onclick="adicionarElemento('O', 'Oxig√™nio', 'G√°s essencial para a respira√ß√£o e combust√£o. √â o O‚ÇÇ.', 8)">8<span class="symbol">O</span></div>
                    <div class="element halogen" onclick="adicionarElemento('F', 'Fl√∫or', 'G√°s altamente reativo, o elemento mais eletronegativo.', 9)">9<span class="symbol">F</span></div>
                    <div class="element noble-gas" onclick="adicionarElemento('Ne', 'Ne√¥nio', 'G√°s nobre inerte. Produz luz laranja-avermelhada em letreiros.', 10)">10<span class="symbol">Ne</span></div>

                    <div class="element alkali-metal" onclick="adicionarElemento('Na', 'S√≥dio', 'Metal alcalino muito reativo. Explode em contato com a √°gua.', 11)">11<span class="symbol">Na</span></div>
                    <div class="element alkaline-earth" onclick="adicionarElemento('Mg', 'Magn√©sio', 'Metal alcalino-terroso. Queima com uma luz branca e brilhante.', 12)">12<span class="symbol">Mg</span></div>
                    <div class="element" style="grid-column: span 6;"></div>
                    <div class="element other-non-metal" onclick="adicionarElemento('P', 'F√≥sforo', 'N√£o-metal reativo. O f√≥sforo branco √© muito t√≥xico.', 15)">15<span class="symbol">P</span></div>
                    <div class="element other-non-metal" onclick="adicionarElemento('S', 'Enxofre', 'S√≥lido amarelo. Usado em fertilizantes, p√≥lvora e vulcaniza√ß√£o.', 16)">16<span class="symbol">S</span></div>
                    <div class="element halogen" onclick="adicionarElemento('Cl', 'Cloro', 'Halog√™nio t√≥xico. Usado como desinfetante e na produ√ß√£o de PVC.', 17)">17<span class="symbol">Cl</span></div>
                    <div class="element noble-gas" onclick="adicionarElemento('Ar', 'Arg√¥nio', 'G√°s nobre inerte. Usado em l√¢mpadas e soldagem.', 18)">18<span class="symbol">Ar</span></div>

                    <div class="element alkali-metal" onclick="adicionarElemento('K', 'Pot√°ssio', 'Metal alcalino macio e altamente reativo. Essencial para a vida.', 19)">19<span class="symbol">K</span></div>
                    <div class="element alkaline-earth" onclick="adicionarElemento('Ca', 'C√°lcio', 'Metal alcalino-terroso. Essencial para ossos e dentes.', 20)">20<span class="symbol">Ca</span></div>
                    <div class="element transition-metal" style="grid-column: span 6;"></div>
                    <div class="element transition-metal" onclick="adicionarElemento('Fe', 'Ferro', 'Metal de transi√ß√£o, base da ind√∫stria. Reage com O para formar ferrugem.', 26)">26<span class="symbol">Fe</span></div>
                    <div class="element transition-metal" style="grid-column: span 2;"></div>
                    <div class="element transition-metal" onclick="adicionarElemento('Cu', 'Cobre', 'Metal de transi√ß√£o, bom condutor de eletricidade e calor.', 29)">29<span class="symbol">Cu</span></div>
                    <div class="element" style="grid-column: span 5;"></div>
                    <div class="element halogen" onclick="adicionarElemento('Br', 'Bromo', 'L√≠quido vol√°til avermelhado. T√≥xico e corrosivo.', 35)">35<span class="symbol">Br</span></div>
                    <div class="element" style="grid-column: span 1;"></div>

                    <div class="element" style="grid-column: span 17;"></div>
                    <div class="element halogen" onclick="adicionarElemento('I', 'Iodo', 'S√≥lido roxo-escuro que sublima (passa para g√°s) facilmente.', 53)">53<span class="symbol">I</span></div>
                    
                    <div class="element" style="grid-column: span 18; height: 10px;"></div>
                    <div class="element" style="grid-column: span 18; background-color: #e6e6e6; border: none; height: 25px;">... clique nos elementos acima para interagir ...</div>
                </div>
            </div>
            
            <section id="elementos-criados" class="lab-area">
                <h2>Compostos Criados</h2>
                <ul id="lista-elementos-criados">
                    <li>Nenhum composto criado ainda.</li>
                </ul>
            </section>
        </div>

        <div class="lab-area lab-area-center">
            <h2>Jarra de Experimentos (Reagentes)</h2>
            
            <div id="jarra">
                Clique nos elementos da Tabela Peri√≥dica para adicion√°-los.
            </div>
            
            <div class="botoes">
                <button onclick="simularReacao()">Ver Rea√ß√£o üí•</button>
                <button onclick="resetLab()">Limpar Jarra üóëÔ∏è</button>
            </div>

            <div id="elemento-info">
                <h3>Informa√ß√µes do Elemento Selecionado</h3>
                <p>Nenhum elemento liberado. Clique em um da tabela para ver detalhes e adicion√°-lo √† jarra.</p>
            </div>

            <div id="resultado">
                Aguardando a sua primeira mistura...
            </div>
        </div>
        
        <div class="right-column">
            <div class="plant-area">
                <h2>Jardim Experimental üå±</h2>
                <p>Arraste o composto (ap√≥s a rea√ß√£o) da jarra para a planta e veja a rea√ß√£o!</p>
                <div id="plant-container" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                    <div class="plant" id="myPlant">
                        <div class="stem"></div>
                        <div class="leaf"></div>
                        <div class="leaf"></div>
                        
                        <div class="sunflower-head">
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                            <div class="petal"></div>
                        </div> 
                    </div>
                    <p id="plant-feedback" style="position: absolute; bottom: 10px; color: #333; font-weight: bold;">Planta em estado Normal.</p>
                </div>
                <button onclick="resetPlant()" style="margin-top: 15px;">Resetar Planta</button>
            </div>
            
            <div class="combination-table">
                <h2>Tabela de Combina√ß√µes (Exemplos)</h2>
                <p>Combina√ß√µes de elementos que podem formar compostos.</p>
                <table>
                    <thead>
                        <tr>
                            <th>Elemento 1</th>
                            <th>Elemento 2</th>
                            <th>Composto Criado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Hidrog√™nio (H)</td><td>Oxig√™nio (O)</td><td>H‚ÇÇO (√Ågua)</td></tr>
                        <tr><td>S√≥dio (Na)</td><td>Cloro (Cl)</td><td>NaCl (Sal)</td></tr>
                        <tr><td>Nitrog√™nio (N)</td><td>Hidrog√™nio (H)</td><td>NH‚ÇÉ (Am√¥nia)</td></tr>
                        <tr><td>Ferro (Fe)</td><td>Oxig√™nio (O)</td><td>Fe_Oxido (Ferrugem)</td></tr>
                        <tr><td>Pot√°ssio (K)</td><td>F√≥sforo (P)</td><td>CP (Fertilizante)</td></tr>
                    </tbody>
                </table>
            </div>

        </div>

    </div>

    <script>
        // Vari√°veis de Estado
        let elementosNaJarra = []; 
        let compostosCriados = [];
        let ultimoCompostoNaJarra = null; 

        // Adicionando mais compostos e descri√ß√µes para os novos elementos
        const imagensCompostos = {
            'H‚ÇÇO': 'üíß Mol√©cula de √Ågua (L√≠quido)', 
            'NaCl': 'üßÇ Cristais de Sal (S√≥lido)', 
            'MgO': 'üçö P√≥ de Magn√©sio (S√≥lido)', 
            'Al‚ÇÇO‚ÇÉ': 'üíé Alumina (S√≥lido)', 
            'H‚ÇÇS': 'üí® G√°s Fedorento (G√°s)', 
            'CO‚ÇÇ': '‚òÅÔ∏è Gelo Seco (G√°s/S√≥lido)', 
            'NH‚ÇÉ': 'üå¨Ô∏è G√°s Am√¥nia (G√°s pungente)', 
            'KCl': 'üçö Cloreto de Pot√°ssio (S√≥lido branco)', 
            'NaBr': 'üßÇ Brometo de S√≥dio (Cristais brancos)', 
            'HF': 'üß™ Fluoreto de Hidrog√™nio (G√°s/L√≠quido corrosivo)', 
            'Fe_Oxido': 'üß± √ìxido de Ferro (Ferrugem, s√≥lido avermelhado)', 
            'CuS': '‚ö´ Sulfeto de Cobre (P√≥ preto/marrom)', 
            'HI': 'üí® Iodeto de Hidrog√™nio (G√°s, √°cido forte)', 
            'CP': 'üï∏Ô∏è Carbureto de F√≥sforo (Composto complexo, fertilizante)', 
            'Mistura': '‚ö†Ô∏è Mistura Sem Rea√ß√£o Programada (L√≠quido)'
        };
        
        // Posi√ß√µes ajustadas para o fundo do Erlenmeyer (mais centralizadas na base)
        const posicoesFundoJarra = [
            { top: '85%', left: '50%' }, 
            { top: '75%', left: '40%' }, 
            { top: '75%', left: '60%' }, 
            { top: '65%', left: '50%' } 
        ];

        // ------------------------------------------------
        // 1. Fun√ß√£o de Adicionar e Posicionar Elemento
        // ------------------------------------------------
        function adicionarElemento(simbolo, nome, info, nAtomico) {
            const jarra = document.getElementById('jarra');
            const infoDiv = document.getElementById('elemento-info');
            
            infoDiv.innerHTML = `<h3>Elemento Liberado: ${nome} (${simbolo})</h3><p><strong>N¬∫ At√¥mico:</strong> ${nAtomico}</p><p><strong>Descri√ß√£o:</strong> ${info}</p>`;

            if (elementosNaJarra.length === 0 && jarra.textContent.includes('Clique nos elementos')) {
                jarra.innerHTML = ''; 
                jarra.style.display = 'block'; 
            }

            const produtoExistente = document.querySelector('.produto-final');
            if (produtoExistente) {
                produtoExistente.remove();
                ultimoCompostoNaJarra = null;
            }

            if (elementosNaJarra.length >= posicoesFundoJarra.length) {
                alert("O limite de elementos na jarra foi atingido. Simule a rea√ß√£o ou limpe a jarra.");
                return;
            }

            const elementoVisual = document.createElement('span');
            elementoVisual.textContent = simbolo;
            elementoVisual.classList.add('element-in-jarra', simbolo);
            
            // Usando as posi√ß√µes corrigidas
            const index = elementosNaJarra.length % posicoesFundoJarra.length; 
            const { top, left } = posicoesFundoJarra[index];

            elementoVisual.style.top = top;
            elementoVisual.style.left = left;
            
            jarra.appendChild(elementoVisual);
            
            elementosNaJarra.push({ simbolo: simbolo, dom: elementoVisual });
        }
        
        // ------------------------------------------------
        // 2. L√≥gica de Simula√ß√£o de Rea√ß√£o e Anima√ß√£o
        // ------------------------------------------------
        function simularReacao() {
            const resultadoDiv = document.getElementById('resultado');
            const jarraDiv = document.getElementById('jarra');
            
            if (elementosNaJarra.length < 2) {
                resultadoDiv.innerHTML = "Adicione pelo menos dois elementos para simular uma rea√ß√£o.";
                return;
            }
            
            if (document.querySelector('.produto-final')) {
                resultadoDiv.innerHTML = "J√° existe um produto na jarra. Limpe-a para uma nova rea√ß√£o.";
                return;
            }

            const simbolos = elementosNaJarra.map(e => e.simbolo);
            // Cria um array de s√≠mbolos √∫nicos e ordenados para a chave de rea√ß√£o
            const elementosUnicos = [...new Set(simbolos)].sort(); 
            const elementosChave = elementosUnicos.join(',');
            
            let compostoCriado = null;
            let resultadoReacaoHTML = '';
            
            // --- Regras de Rea√ß√£o Expandidas ---
            if (elementosChave === 'H,O') { compostoCriado = 'H‚ÇÇO'; resultadoReacaoHTML = '<h2>üí¶ Rea√ß√£o: √Ågua (H‚ÇÇO)</h2><p>Dois Hidrog√™nios e um Oxig√™nio se uniram por **Liga√ß√£o Covalente**.</p>'; }
            else if (elementosChave === 'Cl,Na') { compostoCriado = 'NaCl'; resultadoReacaoHTML = '<h2>üßÇ Rea√ß√£o: Cloreto de S√≥dio (NaCl)</h2><p>O S√≥dio doou um el√©tron para o Cloro, formando o Sal de Cozinha por **Liga√ß√£o I√¥nica**.</p>'; }
            else if (elementosChave === 'Mg,O') { compostoCriado = 'MgO'; resultadoReacaoHTML = '<h2>‚ú® Rea√ß√£o: √ìxido de Magn√©sio (MgO)</h2><p>Rea√ß√£o intensa entre Magn√©sio e Oxig√™nio por **Liga√ß√£o I√¥nica**.</p>'; }
            else if (elementosChave === 'C,O') { compostoCriado = 'CO‚ÇÇ'; resultadoReacaoHTML = '<h2>‚òÅÔ∏è Rea√ß√£o: Di√≥xido de Carbono (CO‚ÇÇ)</h2><p>Carbono reagiu com Oxig√™nio em uma **Combust√£o Completa**.</p>'; }
            else if (elementosChave === 'H,N') { compostoCriado = 'NH‚ÇÉ'; resultadoReacaoHTML = '<h2>üå¨Ô∏è Rea√ß√£o: Am√¥nia (NH‚ÇÉ)</h2><p>Nitrog√™nio e Hidrog√™nio combinaram-se por **Liga√ß√£o Covalente**.</p>'; }
            else if (elementosChave === 'Cl,K') { compostoCriado = 'KCl'; resultadoReacaoHTML = '<h2>üçö Rea√ß√£o: Cloreto de Pot√°ssio (KCl)</h2><p>Sal similar ao NaCl, usado como substituto e em fertilizantes.</p>'; }
            else if (elementosChave === 'Fe,O') { compostoCriado = 'Fe_Oxido'; resultadoReacaoHTML = '<h2>üß± Rea√ß√£o: √ìxido de Ferro (Ferrugem)</h2><p>O Ferro reage lentamente com o Oxig√™nio e √°gua (se presente) em um processo chamado **Oxida√ß√£o**.</p>'; } 
            else if (elementosChave === 'Cu,S') { compostoCriado = 'CuS'; resultadoReacaoHTML = '<h2>‚ö´ Rea√ß√£o: Sulfeto de Cobre (CuS)</h2><p>Combina√ß√£o exot√©rmica.</p>'; } 
            else if (elementosChave === 'F,H') { compostoCriado = 'HF'; resultadoReacaoHTML = '<h2>üß™ Rea√ß√£o: Fluoreto de Hidrog√™nio (HF)</h2><p>G√°s/L√≠quido **extremamente corrosivo**. Cuidado!</p>'; } 
            else if (elementosChave.includes('P') && elementosChave.includes('K')) { compostoCriado = 'CP'; resultadoReacaoHTML = '<h2>üï∏Ô∏è Rea√ß√£o: Fertilizante Complexo (PK)</h2><p>Essencial para a sa√∫de das ra√≠zes e flora√ß√£o.</p>'; }
            else if (elementosChave.includes('He') || elementosChave.includes('Ne') || elementosChave.includes('Ar')) { compostoCriado = 'Mistura'; resultadoReacaoHTML = '<h2>üí° Mistura Inerte (Gases Nobres)</h2><p>Os Gases Nobres n√£o reagem. O resultado √© sempre uma **Mistura de Gases**.</p>'; }
            else { compostoCriado = 'Mistura'; resultadoReacaoHTML = `<h2>üîç Resultado: Mistura Simples</h2><p>Os elementos **${elementosChave.replace(/,/g, ', ')}** foram misturados. Sem rea√ß√£o espec√≠fica programada.`; }


            const nomeComposto = imagensCompostos[compostoCriado] ? imagensCompostos[compostoCriado].split('(')[0].trim() : 'Composto';
            resultadoDiv.style.opacity = 0; 
            
            // Inicia a Anima√ß√£o de Fus√£o
            elementosNaJarra.forEach(elemento => {
                elemento.dom.classList.add('reagente-animado');
            });

            // Cria o visual do produto final
            const produtoVisualJarra = document.createElement('div');
            produtoVisualJarra.classList.add('produto-final');
            produtoVisualJarra.innerHTML = nomeComposto;
            produtoVisualJarra.draggable = true; 
            produtoVisualJarra.dataset.composto = compostoCriado; 
            produtoVisualJarra.addEventListener('dragstart', handleDragStart); 
            jarraDiv.appendChild(produtoVisualJarra);

            ultimoCompostoNaJarra = { simbolo: compostoCriado, dom: produtoVisualJarra }; 

            // Limpa a jarra e mostra o resultado ap√≥s a anima√ß√£o
            setTimeout(() => {
                elementosNaJarra.forEach(elemento => elemento.dom.remove());
                elementosNaJarra = [];
                
                produtoVisualJarra.style.animation = 'none';
                produtoVisualJarra.style.opacity = 1;

                const aparencia = imagensCompostos[compostoCriado] ? imagensCompostos[compostoCriado].split('(')[1].replace(')', '') : 'Desconhecida';
                resultadoDiv.innerHTML = resultadoReacaoHTML + `<span class="aparencia-produto">Apar√™ncia: **${aparencia}**</span><div class="produto-visual">${nomeComposto}</div>`;
                resultadoDiv.style.opacity = 1;

                if (compostoCriado && compostoCriado !== 'Mistura' && !compostosCriados.includes(compostoCriado)) {
                    compostosCriados.push(compostoCriado);
                    atualizarListaCompostos();
                }

            }, 1800); 
        }
        
        // ------------------------------------------------
        // 3. Fun√ß√µes de Controle (Limpar, Listar)
        // ------------------------------------------------
        function atualizarListaCompostos() {
            const listaUL = document.getElementById('lista-elementos-criados');
            listaUL.innerHTML = '';
            if (compostosCriados.length === 0) {
                listaUL.innerHTML = '<li>Nenhum composto criado ainda.</li>';
                return;
            }
            compostosCriados.forEach(composto => {
                const li = document.createElement('li');
                const nomeSimbolico = imagensCompostos[composto] ? imagensCompostos[composto].split('(')[0].trim() : 'Composto';
                li.textContent = `${composto} (${nomeSimbolico})`;
                listaUL.appendChild(li);
            });
        }
        
        function resetLab() {
            elementosNaJarra.forEach(elemento => elemento.dom.remove());
            elementosNaJarra = [];
            
            const produtoExistente = document.querySelector('.produto-final');
            if (produtoExistente) {
                produtoExistente.remove();
            }
            ultimoCompostoNaJarra = null;

            const jarraDiv = document.getElementById('jarra');
            jarraDiv.innerHTML = 'Clique nos elementos da Tabela Peri√≥dica para adicion√°-los.';
            jarraDiv.style.display = 'flex'; 
            
            document.getElementById('resultado').innerHTML = "Aguardando a sua primeira mistura...";
            document.getElementById('elemento-info').innerHTML = '<h3>Informa√ß√µes do Elemento Selecionado</h3><p>Nenhum elemento liberado. Clique em um da tabela para ver detalhes e adicion√°-lo √† jarra.</p>';
            document.getElementById('resultado').style.opacity = 1;
        }

        // ------------------------------------------------
        // 4. Fun√ß√µes de Drag and Drop (Arrastar e Soltar)
        // ------------------------------------------------
        function handleDragStart(e) { e.dataTransfer.setData('text/plain', e.target.dataset.composto); }
        function handleDragOver(e) { e.preventDefault(); e.currentTarget.classList.add('drag-over'); }
        function handleDragLeave(e) { e.currentTarget.classList.remove('drag-over'); }

        function handleDrop(e) {
            e.preventDefault();
            e.currentTarget.classList.remove('drag-over');
            
            const composto = e.dataTransfer.getData('text/plain');
            reagirNaPlanta(composto);

            if (ultimoCompostoNaJarra && ultimoCompostoNaJarra.simbolo === composto) {
                ultimoCompostoNaJarra.dom.remove();
                ultimoCompostoNaJarra = null;
                document.getElementById('resultado').innerHTML = "Produto aplicado na planta. Limpe a jarra para um novo reagente.";
            }
        }
        
        // ------------------------------------------------
        // 5. L√≥gica de Rea√ß√£o na Planta (Girassol)
        // ------------------------------------------------
        function reagirNaPlanta(composto) {
            const plantElement = document.getElementById('myPlant');
            const feedback = document.getElementById('plant-feedback');
            
            plantElement.className = 'plant'; 

            if (composto === 'H‚ÇÇO') {
                plantElement.classList.add('plant-state-normal');
                feedback.textContent = "üíß √Ågua (H‚ÇÇO) aplicada. Hidrata√ß√£o saud√°vel!";
                feedback.style.color = '#007bff';
            } else if (composto === 'NH‚ÇÉ' || composto === 'CP' || composto === 'KCl') { 
                plantElement.classList.add('plant-state-crescida');
                feedback.textContent = "üåø Mega-Nutrientes aplicados! Crescimento e Florescimento!";
                feedback.style.color = '#28a745'; /* Cor de crescimento para o verde */
            } else if (composto === 'NaCl' || composto === 'MgO') { 
                plantElement.classList.add('plant-state-murcha');
                feedback.textContent = "‚ö†Ô∏è Salinidade alta! A planta est√° murchando!";
                feedback.style.color = '#ffc107';
            } else if (composto === 'HF') { 
                plantElement.classList.add('plant-state-envenenada');
                feedback.textContent = "üíÄ Veneno Corrosivo aplicado! A planta est√° morrendo!";
                feedback.style.color = '#dc3545';
            } else if (composto === 'CO‚ÇÇ') {
                plantElement.classList.add('plant-state-exotica', 'plant-state-heliotropismo'); 
                feedback.textContent = "‚ú® Efeito G√°s intenso! Crescimento ex√≥tico e estranho!";
                feedback.style.color = '#6f42c1';
            } else if (composto === 'Fe_Oxido' || composto === 'CuS') { 
                plantElement.classList.add('plant-state-enferrujada');
                feedback.textContent = "üß± √ìxido de Metal aplicado. A planta est√° ficando 'enferrujada'!";
                feedback.style.color = '#a0522d';
            } else {
                plantElement.classList.add('plant-state-normal');
                feedback.textContent = "‚ö†Ô∏è Mistura desconhecida aplicada. Sem efeito vis√≠vel.";
                feedback.style.color = '#333';
            }
        }
        
        function resetPlant() {
            const plantElement = document.getElementById('myPlant');
            const feedback = document.getElementById('plant-feedback');

            plantElement.className = 'plant'; 
            plantElement.classList.add('plant-state-normal'); 
            
            feedback.textContent = "Planta em estado Normal.";
            feedback.style.color = '#333';
        }

        document.addEventListener('DOMContentLoaded', () => {
            resetPlant(); 
        });

    </script>
</body>
</html>
